<html>
<head>
    <title>Vega Test Interact with jstat</title>
    <script src="http://d3js.org/d3.v3.min.js"></script>
    <script src="http://trifacta.github.io/vega/vega.js"></script>
    <style>
        * { font-family: Helvetica Neue, Helvetica, Arial, sans-serif; }
        body { width: 450px; line-height: 16pt; }
    </style>
</head>
<body>
<p><strong>Vega Test Interact with jstat</strong></p>
<div id="view" class="view"></div>
</body>
<script type="text/javascript">
    var spec ={
        "width": 500,
        "height": 200,
        "padding": {"top": 10, "left": 30, "bottom": 30, "right": 10},
        "data": [
            {
                "name": "table",
                "values": [
                    {"x": 1,  "y": 28}, {"x": 2,  "y": 55},
                    {"x": 3,  "y": 43}, {"x": 4,  "y": 91},
                    {"x": 5,  "y": 81}, {"x": 6,  "y": 53},
                    {"x": 7,  "y": 19}, {"x": 8,  "y": 87},
                    {"x": 9,  "y": 52}, {"x": 10, "y": 48},
                    {"x": 11, "y": 24}, {"x": 12, "y": 49},
                    {"x": 13, "y": 87}, {"x": 14, "y": 66},
                    {"x": 15, "y": 17}, {"x": 16, "y": 27},
                    {"x": 17, "y": 68}, {"x": 18, "y": 16},
                    {"x": 19, "y": 49}, {"x": 20, "y": 15}
                ]
            }
        ],
        "scales": [
            {
                "name": "x",
                "type": "linear",
                "range": "width",
                "zero": false,
                "domain": {"data": "table", "field": "data.x"}
            },
            {
                "name": "y",
                "type": "linear",
                "range": "height",
                "nice": true,
                "domain": {"data": "table", "field": "data.y"}
            }
        ],
        "axes": [
            {"type": "x", "scale": "x", "ticks": 20},
            {"type": "y", "scale": "y"}
        ],
        "marks": [
            {
                "type": "line",
                "from": {"data": "table"},
                "properties": {
                    "enter": {
                        "interpolate": {"value": "monotone"},
                        "x": {"scale": "x", "field": "data.x"},
                        "y": {"scale": "y", "field": "data.y"},
                        "y2": {"scale": "y", "value": 0},
                        "stroke": {"value": "steelblue"}
                    },
                    "update": {
                        "fillOpacity": {"value": 1}
                    },
                    "hover": {
                        "fillOpacity": {"value": 0.5}
                    }
                }
            }
        ]
    }


    vg.parse.spec(spec, function(chart) {
        var view = chart({el:"#view"})  //here is where we populate the empty spec data holder with our calculated data
                .update();
    });
</script>
</html>